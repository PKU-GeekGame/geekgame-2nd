# 智慧检测器

这题出的太有水平了，处处都在致敬一个伟大的组织。
> 印度：没错，正是在下。

看到title以为这题做不出来就没有智慧，可是当点开题面，看到图的那一刹那，我的眼眶情不自禁地湿润了...(小学抒情作文800字)...

于是找到当时的PPT图片，对比后发现笑脸的位置都没变，充分说明出题人已经被该伟大组织深深感化，这正是一个组织发展到一定程度后该有的影响力！
> 印度：没错没错

### flag1

看了看题目代码，有点乱，整了好久才理清逻辑。

这种含3维数组的代码，最容易出问题的当然是下标越界了（回到了当年刷OJ题被下标越界支配的恐惧中

我找到了题目代码中的两处`IndexError`，第一处就是第二阶段提示的穿墙bug，我也是通过该处bug解出了flag1。

第二处是在解flag2的过程中发现的。代码425行的长长长长的`if`中`NewPos[0]`
代表的是地图的深度，当构造的输入让地图深度超过生成的map深度时也会造成越界。

穿墙bug的发现过程就是直接输入了很多相同的方向比如`EEEEEEE`，然后`@`就到了本应该到不了的位置，然后甚至没去看代码就通过来回移动角色拿到了flag1。

### flag2

我解flag2的办法跟第二阶段官方提示给方法的稍有不同，可能比标答更麻烦一些。

前文说到，地图深度的检查有些问题，
问题主要出在433行的`CurPos = NewPos`，Python中对list变量直接等号赋值仅赋值了label，此时`CurPos`仅仅是`NewPos`的别名。

因此只要每次正常的移动后再跟一个非法的`U`，就能改变当前到达的map深度。

所以我确实是在99步之内通过`su, wu, eu`这种`合法move + u`的办法，
成功穿越到最大深度的map，并到达了E，当然过程中还利用了穿墙能够移动两次但是步数只增加1的bug来节约步数，最终玩了至少2小时才拿到flag2，这又是一把辛酸泪了。

